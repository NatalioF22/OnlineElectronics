

{% extends 'base.html' %}

{% block content %}
<div class="container" style="margin-top: 150px">
  {% if product %}
    <h1>Product Detail</h1>
    <div class="row">
      <div class="col-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">{{ product.name }}</h5>
            <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
            <a href="#" class="btn btn-primary">Buy Now</a>
          </div>
        </div>
      </div>
      <div class="col-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Product Details</h5>
            <ul>
              <li><p class="card-text">Price: $10</p></li>
              <li><p class="card-text">Product Description:<br> {{ product.product_description }}</p></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
   <div class="mb-3 mt-0">
    {% if user.is_authenticated %}
      <form action="{% url 'delete_product' pk=product.id %}" method="POST" id="deleteForm">
        {% csrf_token %}
        <a href="{% url 'update_product' pk=product.id %}" class="btn btn-info ">Update Product</a>
        <button type="submit" class="btn btn-danger " onclick="return confirmDelete(event)">Delete Product</button>
      </form>
    {% endif %}
    </div>
  {% else %}
    <h1>This product does not exist</h1>
  {% endif %}
</div>

<script>
  function confirmDelete(event) {
    if (!confirm("Are you sure you want to delete this item?")) {
      event.preventDefault();
      return false;
    }
    document.getElementById('deleteForm').submit();
  }
</script>
{% endblock %}